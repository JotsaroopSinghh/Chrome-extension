<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Editable Background Image</title>
    <style>
      body,
      html {
        margin: 0;
        padding: 0;
        height: 100%;
        width: 100%;
      }

      #background-container {
        height: 100%;
        width: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        background-size: cover;
        background-position: center;
        background-image: url("default-image.jpg"); /* Default background image */
        position: relative;
      }

      .context-menu {
        color: #000;
        font-family: sans-serif;
        position: absolute;
        background-color: #fff;
        border: 3px solid #fff;
        list-style: none;
        padding: 10px;
        margin: 0;
        display: none;
        z-index: 1000;
      }

      .context-menu li {
        padding: 5px 10px;
        cursor: pointer;
      }

      .context-menu li:hover {
        background-color: #fff;
      }

      .thumbnail-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
        gap: 10px;
      }

      .thumbnail {
        width: 100px;
        height: 100px;
        object-fit: cover;
        cursor: pointer;
        padding: 3px;
      }
    </style>
  </head>
  <body>
    <div id="background-container">
      <ul id="initial-context-menu" class="context-menu" style="display: none">
        <li id="change-background">Change Background</li>
      </ul>
      <ul
        id="secondary-context-menu"
        class="context-menu"
        style="display: none"
      >
        <li id="cars-option">Cars</li>
        <li id="bikes-option">Bikes</li>
        <li id="random-option">Random</li>
      </ul>
      <div
        id="cars-context-menu"
        class="context-menu thumbnail-grid"
        style="display: none"
      >
        <!-- Cars images will be populated by JavaScript -->
      </div>
      <div
        id="bikes-context-menu"
        class="context-menu thumbnail-grid"
        style="display: none"
      >
        <!-- Bikes images will be populated by JavaScript -->
      </div>
    </div>

    <script>
      // Lists of images with their names
      const cars = [
        { name: "Car 1", url: "car1.jpg" },
        { name: "Car 2", url: "car2.jpg" },
        { name: "Car 3", url: "car3.jpg" },
        { name: "Car 4", url: "car4.jpg" },
        // Add more car images as needed
      ];

      const bikes = [
        { name: "Bike 1", url: "bike1.jpg" },
        { name: "Bike 2", url: "bike2.jpg" },
        { name: "Bike 3", url: "bike3.jpg" },
        { name: "Bike 4", url: "bike4.jpg" },
        // Add more bike images as needed
      ];

      const backgroundContainer = document.getElementById(
        "background-container"
      );
      const initialContextMenu = document.getElementById(
        "initial-context-menu"
      );
      const secondaryContextMenu = document.getElementById(
        "secondary-context-menu"
      );
      const carsContextMenu = document.getElementById("cars-context-menu");
      const bikesContextMenu = document.getElementById("bikes-context-menu");
      const changeBackgroundOption =
        document.getElementById("change-background");
      const carsOption = document.getElementById("cars-option");
      const bikesOption = document.getElementById("bikes-option");
      const randomOption = document.getElementById("random-option");

      // Populate the cars context menu with image thumbnails
      cars.forEach((car) => {
        const thumbnail = document.createElement("img");
        thumbnail.src = car.url;
        thumbnail.alt = car.name;
        thumbnail.className = "thumbnail";
        thumbnail.addEventListener("click", () => {
          backgroundContainer.style.backgroundImage = `url(${car.url})`;
          localStorage.setItem("backgroundImage", car.url);
          carsContextMenu.style.display = "none";
        });
        carsContextMenu.appendChild(thumbnail);
      });

      // Populate the bikes context menu with image thumbnails
      bikes.forEach((bike) => {
        const thumbnail = document.createElement("img");
        thumbnail.src = bike.url;
        thumbnail.alt = bike.name;
        thumbnail.className = "thumbnail";
        thumbnail.addEventListener("click", () => {
          backgroundContainer.style.backgroundImage = `url(${bike.url})`;
          localStorage.setItem("backgroundImage", bike.url);
          bikesContextMenu.style.display = "none";
        });
        bikesContextMenu.appendChild(thumbnail);
      });

      // Function to show the context menu at the click position
      function showMenu(menu, mouseX, mouseY) {
        menu.style.top = `${mouseY}px`;
        menu.style.left = `${mouseX}px`;
        menu.style.display = "block";
      }

      // Event listener for right-click to show the initial context menu
      backgroundContainer.addEventListener("contextmenu", (event) => {
        event.preventDefault(); // Prevent the default context menu
        const { clientX: mouseX, clientY: mouseY } = event;

        // Position and show the initial context menu
        showMenu(initialContextMenu, mouseX, mouseY);
        secondaryContextMenu.style.display = "none";
        carsContextMenu.style.display = "none";
        bikesContextMenu.style.display = "none";
      });

      // Event listener for "Change Background" option
      changeBackgroundOption.addEventListener("click", (event) => {
        event.stopPropagation(); // Prevent the click event from propagating to the document
        const rect = initialContextMenu.getBoundingClientRect();
        const mouseX = rect.left;
        const mouseY = rect.top;

        initialContextMenu.style.display = "none";
        showMenu(secondaryContextMenu, mouseX, mouseY);
      });

      // Event listener for "Cars" option
      carsOption.addEventListener("click", (event) => {
        event.stopPropagation(); // Prevent the click event from propagating to the document
        const rect = secondaryContextMenu.getBoundingClientRect();
        const mouseX = rect.left;
        const mouseY = rect.top;

        secondaryContextMenu.style.display = "none";
        showMenu(carsContextMenu, mouseX, mouseY);
      });

      // Event listener for "Bikes" option
      bikesOption.addEventListener("click", (event) => {
        event.stopPropagation(); // Prevent the click event from propagating to the document
        const rect = secondaryContextMenu.getBoundingClientRect();
        const mouseX = rect.left;
        const mouseY = rect.top;

        secondaryContextMenu.style.display = "none";
        showMenu(bikesContextMenu, mouseX, mouseY);
      });

      // Event listener for "Random" option
      randomOption.addEventListener("click", (event) => {
        event.stopPropagation(); // Prevent the click event from propagating to the document
        const allImages = [...cars, ...bikes];
        const randomImage =
          allImages[Math.floor(Math.random() * allImages.length)];
        backgroundContainer.style.backgroundImage = `url(${randomImage.url})`;
        localStorage.setItem("backgroundImage", randomImage.url);
        secondaryContextMenu.style.display = "none";
      });

      // Load the background image from localStorage on page load
      window.onload = () => {
        const savedBackgroundImage = localStorage.getItem("backgroundImage");
        if (savedBackgroundImage) {
          backgroundContainer.style.backgroundImage = `url(${savedBackgroundImage})`;
        }
      };

      // Event listener to hide context menus when clicking elsewhere
      document.addEventListener("click", (event) => {
        if (
          !initialContextMenu.contains(event.target) &&
          !secondaryContextMenu.contains(event.target) &&
          !carsContextMenu.contains(event.target) &&
          !bikesContextMenu.contains(event.target)
        ) {
          initialContextMenu.style.display = "none";
          secondaryContextMenu.style.display = "none";
          carsContextMenu.style.display = "none";
          bikesContextMenu.style.display = "none";
        }
      });
    </script>
  </body>
</html>
